# 2021 빅콘테스트 | 데이터분석 분야 | 챔피언리그 | 스포츠 테크
## 개요 : 「프로야구 배럴(Barrel)」 을 통한 타자 성적(OPS = 장타율 + 출루율) 예측
- 팀명 : 남탕
- 팀원 : 이문형🤴, 안동현👨‍💻
- 기간 : 2021.09.01 ~ 2021.09.15 16:00
- 링크 : [https://www.bigcontest.or.kr/points/content.php#ct04](https://www.bigcontest.or.kr/points/content.php#ct04)

## 1. 제출 모델
[notebook 폴더](https://github.com/DonghyunAnn/BigContest-ChampionLeague-SportsTech/tree/master/notebook)에 자세한 코드 첨부했습니다.
- Tools: Python
- ML Algorithm: Lasso Regression
- Evaluation: MSE

## 2. 사용 데이터
### 제공데이터
```
- 2018 ~ 2021 전반기 KBO 선수 및 선수코드
- 2018 ~ 2021 전반기 타구 데이터
- 2018 ~ 2021 전반기 KBO 선수 기록
- 2021 경기일정 데이터
```

### 추가수집데이터
```
- STATIZ 2018~ 2021.09.13 KBO 선수 기록 
```

## 3. 프로젝트 요약
### 주요 이슈사항
(1) 배럴의 정의
```
- 제공 데이터 중 2018~2021 전반기 타구데이터를 사용 
- 장타일수록 발사각과 타구속도가 일정한 범위로 수렴하는 것을 확인
- 기존에 사용되던 배럴의 기준(타율 0.500 이상, 장타율 1.500이상)을 적용
- 140km 이상의 타구는 배럴 기준을 충족 시킬 수 있지만 140km ~ 145km와 같이 속도를 세분화했을때 배럴 기준에 부합하지 않았음
- [146km~150km/24°~30°, 151km~155km/10°~44°, 156km 이상/1°~60°]로 배럴 기준을 선정
- 타구속도가 빠를수록 발사각이 넓어지는 것을 확인했으며, 타구속도가 배럴에 가장 중요한 요소임을 확인할 수 있었음
```

(2) Feature의 부족
```
- 2021시즌 타자 OPS, 출수율, 장타율을 예측을 위해선 구체적인 성적 데이터가 필요함
- STATIZ 사이트에서 2018~ 2021.09.13 까지의 KBO 선수 기록을 크롤링함
- 크롤링한 데이터 문자열 정제, 투수 기록 제거
- 동명 이인 및 소속팀 표기오류(이적한 시즌, 팀 표기 중복) 이슈 해결 후 기존 데이터의 선수코드 조인
- 정제한 크롤링 데이터와 타자별 타구속도및 발사각 조인 (선수코드 사용)
```

(3) 시계열 Feauture 추가
```
- 타자의 미래 성적을 예측하는 것이기 때문에 시계열적인 요소가 필요함
- 1년전 성적(STATIZ에 기록된 성적) 칼럼 추가
- 선수별 18시즌 이후부터 누적기록(평균) 칼럼 추가
- 최종 분석 데이터를 1년 전 시즌 성적,  n년전 시즌 성적, 누적 성적으로 구성
- 신인의 경우 과거 데이터(결측치)를 모두 -1로 처리
```

(4) 모델링
```
- Row의 개수에 비해 Columns이 압도적으로 많은 상황
- L1 규제를 통해 Feature를 제거해줄 수 있는 LASSO Regression이 적합하다고 판단
```

## 한계 및 개선점
```
- 회귀선에 근거한 예측이다 보니 성적이 월등히 좋은 선수들, 나쁜 선수들에 대한 정확도가 떨어짐
   -> 직전 시즌 성적에 따른 OPS에 대한 보정치를 추가해주면 더 나은 예측을 할 수 있을 것으로 사료됨
- 칼럼으로 추가할 데이터 중 과거 시즌 데이터를 1시즌만 사용했는데 이를 3시즌 정도까지 늘리면 더 좋은 결과가 나올 수 있을 것으로 사료됨
- 타구 데이터르 
```

## 참고사항
참고한 코드 : https://dacon.io/competitions/official/62540/codeshare/657?page=1&dtype=recent
